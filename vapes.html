<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Mobile & iPhone safe areas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Vape District | Vapes</title>

  <!-- Stop the automatic /favicon.ico 404 -->
  <link rel="icon" href="data:," />

  <!-- Your stylesheet and script (kept) -->
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>

  <!-- Minimal, page-local fixes that won’t fight your CSS -->
  <style>
    /* Fluid media and no layout overflow */
    img, video, canvas, svg { max-width: 100%; height: auto; display: block; }
    .wrapper { width: min(100%, 1200px); margin-inline: auto; padding-inline: clamp(12px, 3vw, 24px); }

    /* Navigation basics */
    nav { position: sticky; top: 0; z-index: 50; background:#0b0b0b; color:#fff; }
    nav .nav-logo { font-weight: 700; text-decoration: none; color: inherit; }
    nav .menu-toggle { display: none; cursor: pointer; user-select: none; font-size: 1.25rem; }
    nav .nav-bar { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
    nav .nav-links { list-style: none; display: flex; gap: 20px; margin: 0; padding: 12px 0; align-items: center; }
    nav .nav-links a { color: inherit; text-decoration: none; }

    /* Dropdowns (desktop) */
    .dropdown { position: relative; }
    .dropdown > a { display: inline-flex; align-items: center; gap: 6px; }
    .dropdown-content { position: absolute; left: 0; top: 100%; display: none; min-width: 280px; background:#151515; border:1px solid #2a2a2a; padding: 12px; border-radius: 8px; }
    .dropdown:hover .dropdown-content { display: block; }
    .submenu { position: relative; }
    .has-sub::after { content: "▸"; font-size: .9em; margin-left: 6px; }
    .sub-dropdown { display: none; padding-left: 12px; margin-top: 6px; }
    .submenu:hover .sub-dropdown { display: block; }

    /* Mobile nav */
    @media (max-width: 768px) {
      nav .menu-toggle { display: block; }
      nav .nav-links { 
        display: none; 
        flex-direction: column; 
        gap: 10px; 
        padding: 12px 0 16px; 
        border-top: 1px solid #222;
      }
      nav .nav-links[data-open="true"] { display: flex; }
      /* Make dropdowns tap-to-open on mobile */
      .dropdown-content { position: static; display: none; border: 0; padding: 4px 0 8px; background: transparent; }
      .dropdown[data-open="true"] .dropdown-content { display: block; }
      .submenu .sub-dropdown { display: none; }
      .submenu[data-open="true"] .sub-dropdown { display: block; }
      .has-sub::after { content: "▾"; }
    }

    /* Hero that behaves on iOS (no 100vh bug) */
    .hero { min-height: 60dvh; display: grid; place-items: center; text-align: center; position: relative; overflow: clip; }
    .hero-media { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; object-position: center; filter: brightness(.6); }
    .hero-content { position: relative; color: #fff; padding: clamp(16px, 4vw, 40px); }

    /* Grid of subcategories */
    .categories-section { padding: clamp(24px, 5vw, 56px) 0; }
    .product-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: clamp(12px, 3vw, 24px);
    }
    @media (max-width: 1024px) { .product-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 560px)  { .product-grid { grid-template-columns: 1fr; } }

    .product-card {
      background:#0f0f0f; color:#eaeaea; border:1px solid #1e1e1e; border-radius: 14px; overflow: hidden;
      display: grid; gap: 10px; padding-bottom: 14px;
    }
    .product-card img { aspect-ratio: 4 / 3; width: 100%; object-fit: cover; }
    .product-card h3 { margin: 4px 14px 0; font-size: clamp(1.05rem, .8rem + .9vw, 1.3rem); }
    .product-card p { margin: 0 14px; color:#bdbdbd; font-size: clamp(.95rem, .85rem + .4vw, 1rem); }
    .product-card a { margin: 0 14px 6px; display: inline-block; color:#fff; text-decoration: none; background:#2d2dff; padding: 8px 12px; border-radius: 8px; }
    .product-card a:focus-visible { outline: 2px solid #fff; outline-offset: 2px; }

    /* Footer padding with safe areas */
    .footer { text-align: center; padding: calc(env(safe-area-inset-bottom) + 16px) 16px 24px; color:#bdbdbd; }
    .footer a { color: #bdbdbd; }
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav>
    <div class="wrapper nav-bar">
      <a class="nav-logo" href="index.html">Vape District</a>

      <button class="menu-toggle" aria-expanded="false" aria-controls="site-nav" id="menuToggle" type="button">☰</button>

      <ul class="nav-links" id="site-nav" data-open="false">
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>

        <li class="dropdown" data-open="false">
          <a href="#" aria-haspopup="true" aria-expanded="false">Shop</a>
          <div class="dropdown-content" role="menu">
            <div class="submenu" data-open="false">
              <a href="420.html" class="has-sub">420</a>
              <div class="sub-dropdown">
                <a href="420-wraps.html">Wraps</a>
                <a href="420-cartridges.html">420 Cartridges</a>
                <a href="420-grinders.html">Grinders &amp; Ash Trays</a>
                <a href="420-glass.html">Glass</a>
                <a href="420-disposable-cartridges.html">Disposable Cartridges</a>
                <a href="420-batteries.html">Batteries</a>
              </div>
            </div>

            <div class="submenu" data-open="false">
              <a href="vapes.html" class="has-sub">Vapes</a>
              <div class="sub-dropdown">
                <a href="vape-juice.html">Vape Juice</a>
                <a href="vape-devices.html">Devices</a>
                <a href="vape-disposables.html">Disposables</a>
                <a href="vape-mods.html">Mods</a>
              </div>
            </div>

            <a href="detox.html">Pass A Dr*g Test / Detox</a>
            <a href="mystery-boxes.html">Mystery Boxes</a>
          </div>
        </li>

        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero (uses an actual <img> so it scales perfectly on mobile) -->
  <section class="hero">
    <img class="hero-media"
         src="images/device_package.jpg"
         alt="Assorted vape devices and accessories"
         width="1920" height="1080"
         decoding="async" fetchpriority="high" />
    <div class="hero-content wrapper">
      <h1>Vapes</h1>
      <p>Everything you need for the perfect vape session, from juice to devices and beyond.</p>
    </div>
  </section>

  <!-- Subcategories -->
  <section class="categories-section wrapper">
    <div class="about-text" style="text-align:center; margin-bottom: clamp(12px, 3vw, 24px);">
      <h2 class="section-title">Explore Vapes</h2>
      <p>Find your favourite flavour or device by choosing a subcategory below.</p>
    </div>

    <div class="product-grid">
      <article class="product-card">
        <img src="images/vapejuice.jpg"
             alt="Vape Juice selection"
             width="1200" height="900"
             loading="lazy" decoding="async" />
        <h3>Vape Juice</h3>
        <p>Premium e-liquids in a huge range of flavours and nicotine strengths.</p>
        <a href="vape-juice.html">Shop Vape Juice</a>
      </article>

      <article class="product-card">
        <img src="images/device_package.jpg"
             alt="Vape devices"
             width="1200" height="900"
             loading="lazy" decoding="async" />
        <h3>Devices</h3>
        <p>Starter kits, pod systems and advanced devices for every level.</p>
        <a href="vape-devices.html">Browse Devices</a>
      </article>

      <article class="product-card">
        <img src="images/disposables.jpg"
             alt="Disposable vapes"
             width="1200" height="900"
             loading="lazy" decoding="async" />
        <h3>Disposables</h3>
        <p>Convenient disposables in delicious flavours.</p>
        <a href="vape-disposables.html">Shop Disposables</a>
      </article>

      <article class="product-card">
        <img src="images/mods.jpg"
             alt="Vape mods"
             width="1200" height="900"
             loading="lazy" decoding="async" />
        <h3>Mods</h3>
        <p>High-end mods for custom vaping experiences.</p>
        <a href="vape-mods.html">View Mods</a>
      </article>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>&copy; 2025 Vape District. All rights reserved.</p>
    <p>6420 Pearl Rd, Parma Heights, OH 44130 &nbsp;|&nbsp; <a href="tel:+14405582671">(440) 558-2671</a></p>
  </footer>

  <!-- Tiny, page-local JS to make mobile menus/dropdowns work reliably on iOS -->
  <script>
    (function () {
      const nav = document.getElementById('site-nav');
      const toggle = document.getElementById('menuToggle');
      toggle?.addEventListener('click', () => {
        const open = nav.getAttribute('data-open') === 'true';
        nav.setAttribute('data-open', String(!open));
        toggle.setAttribute('aria-expanded', String(!open));
      });

      // Mobile dropdown toggles (tap on the label)
      const mediaQuery = window.matchMedia('(max-width: 768px)');
      function wireDropdowns() {
        document.querySelectorAll('.dropdown > a').forEach(a => {
          a.onclick = (e) => {
            if (!mediaQuery.matches) return; // desktop uses hover
            e.preventDefault();
            const li = a.parentElement;
            const open = li.getAttribute('data-open') === 'true';
            li.setAttribute('data-open', String(!open));
            a.setAttribute('aria-expanded', String(!open));
          };
        });
        document.querySelectorAll('.submenu > .has-sub').forEach(a => {
          a.onclick = (e) => {
            if (!mediaQuery.matches) return;
            e.preventDefault();
            const wrap = a.closest('.submenu');
            const open = wrap.getAttribute('data-open') === 'true';
            wrap.setAttribute('data-open', String(!open));
          };
        });
      }
      wireDropdowns();

      // Close menu when a link is clicked (better UX)
      nav.querySelectorAll('a[href]').forEach(link => {
        link.addEventListener('click', () => {
          if (window.matchMedia('(max-width: 768px)').matches) {
            nav.setAttribute('data-open', 'false');
            toggle.setAttribute('aria-expanded', 'false');
          }
        });
      });
    })();
  </script>
</body>
</html>
