/* Base style sheet for Vape District website */
/* Define colour palette */
:root {
  --light-blue: #e0f4ff;
  --primary-blue: #3db2ff;
  --dark-blue: #012a36;
  --gradient: linear-gradient(45deg, #1da2ff, #0f528e);
}

html, body {
  margin: 0;
  padding: 0;
  font-family: Arial, Helvetica, sans-serif;
  color: #222;
  scroll-behavior: smooth;
}

/* Navigation bar */
nav {
  /* Keep the navigation fixed to the top of the page and full width */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  display: flex;
  align-items: center;
  /* A subtle backdrop and shadow for depth */
  background-color: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(4px);
  /* Increase the overall height of the nav bar and horizontal padding so it takes up more of the top area */
  padding: 1.5rem 4rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  /* Generous padding and spacing so the nav stretches across the screen */
  /* Increase the height and horizontal padding so the navigation takes up more of the top */
  padding: 2rem 4rem;
  justify-content: flex-start;
}

/* Parallax About Section */
.about.parallax {
  background-attachment: fixed;
  background-size: cover;
  background-position: center;
  color: #fff;
  position: relative;
  /* Reduce the height of the parallax about section further so it doesn't dominate the page */
  min-height: 30vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.about.parallax .overlay {
  background: rgba(0, 0, 0, 0.5);
  /* Reduce padding in the overlay to make the about card smaller */
  padding: 2rem 1.5rem;
  border-radius: 10px;
  max-width: 800px;
}

.about.parallax h2,
.about.parallax p {
  color: #fff;
}

/* Reviews Slider */
.reviews-section {
  padding: 4rem 2rem;
  background-color: #f7f9fc;
  text-align: center;
}

.reviews-slider {
  position: relative;
  max-width: 800px;
  margin: 0 auto;
}

.review-slide {
  display: none;
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
}

.review-slide.active {
  display: block;
  opacity: 1;
}

.review-slide p {
  font-size: 1.1rem;
  line-height: 1.6;
  background: #fff;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

/* Star styling for review ratings */
.stars {
  color: #ffc107;
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
}

.reviews-slider .prev,
.reviews-slider .next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 0, 0, 0.5);
  color: #fff;
  border: none;
  font-size: 2rem;
  padding: 0.5rem 1rem;
  cursor: pointer;
  border-radius: 4px;
  z-index: 1;
}

.reviews-slider .prev {
  left: -2rem;
}

.reviews-slider .next {
  right: -2rem;
}

/* Product Grid for category pages */
.product-grid {
  display: grid;
  /* Increase the minimum width of cards so they present more like squares on desktop */
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 2rem;
  margin-top: 2rem;
}

.product-card {
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 100%;
}

.product-card img {
  width: 100%;
  /* Slightly taller images give the cards a more balanced, square appearance */
  height: 220px;
  object-fit: cover;
  /* Show the central portion of product images so the subject is centred */
  object-position: center center;
}

/* Brand logos carousel styles */
.brand-carousel {
  position: relative;
  max-width: 600px;
  margin: 2rem auto;
  text-align: center;
}

/* Hide all slides by default */
.brand-slide {
  display: none;
}

/* Show the active slide */
.brand-slide.active {
  display: block;
}

/* Style for text-based brand slides */
.brand-slide h3 {
  font-size: 2rem;
  color: var(--primary-blue);
  margin: 1rem 0;
}

/* Images that should display their entire content without cropping */
.contain-img {
  object-fit: contain !important;
  object-position: center !important;
  background-color: #000;
}

/* Style for brand logos if images are used */
.brand-slide img {
  max-width: 150px;
  height: auto;
  margin: 0 auto;
}

/* Navigation arrows for brand carousel */
.brand-carousel .prev,
.brand-carousel .next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 0, 0, 0.5);
  color: #fff;
  border: none;
  font-size: 2rem;
  padding: 0.5rem 1rem;
  cursor: pointer;
  border-radius: 4px;
  z-index: 1;
}

.brand-carousel .prev {
  left: -2rem;
}

.brand-carousel .next {
  right: -2rem;
}

.product-card h3 {
  font-size: 1.2rem;
  margin: 1rem;
  color: var(--dark-blue);
}

.product-card p {
  flex-grow: 1;
  font-size: 0.9rem;
  margin: 0 1rem 1rem;
  color: #555;
}

.product-card a {
  margin: 0 1rem 1rem;
  color: var(--primary-blue);
  font-weight: 600;
  text-decoration: none;
}

.product-card a:hover {
  text-decoration: underline;
}

/* Hide the hamburger menu toggle on larger screens by default. The toggle is only shown
   in the mobile breakpoint (defined below in the media query) to save horizontal
   space for navigation links on desktop. */
/* Hide the hamburger menu toggle by default on larger screens. It will be shown
   only at the mobile breakpoint to save space and allow a collapsible menu. */
.menu-toggle {
  display: none;
}

/* Logo styling */
.nav-logo {
  /* Bigger logo text for a bold presence on the left of the nav bar */
  font-size: 2.8rem;
  font-weight: 700;
  color: var(--primary-blue);
  text-decoration: none;
  /* Extra space to separate the logo from the navigation links */
  margin-right: 4rem;
}

/* Navigation links */
.nav-links {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  align-items: center;
  /* Increase the gap between nav items and the font size for better readability */
  /* Increase the gap between nav items so the links spread further across the top */
  gap: 3rem;
  margin: 0;
  padding: 0;
  /* Make the navigation text slightly larger for improved legibility */
  font-size: 1.4rem;
  /* Larger margin to push the links away from the logo, aligning them nicely across the top */
  margin-left: 3rem;
}

.nav-links li {
  position: relative;
}

.nav-links a {
  text-decoration: none;
  color: #333;
  font-weight: 600;
  transition: color 0.2s ease;
}

.nav-links a:hover {
  color: var(--primary-blue);
}

/* Dropdown */
.dropdown-content {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #fff;
  min-width: 220px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  overflow: hidden;
  z-index: 999;
}

.dropdown-content a {
  display: block;
  padding: 0.75rem 1rem;
  color: #333;
  text-decoration: none;
  font-weight: 500;
}

.dropdown-content a:hover {
  background-color: var(--light-blue);
  color: var(--primary-blue);
}

/* Nested submenus inside the products dropdown */
.submenu {
  position: relative;
}

.has-sub::after {
  content: '▸';
  float: right;
  margin-left: 0.3rem;
}

.sub-dropdown {
  display: none;
  position: absolute;
  top: 0;
  left: 100%;
  background-color: #fff;
  min-width: 200px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  overflow: hidden;
  z-index: 999;
}

.sub-dropdown a {
  padding: 0.5rem 1rem;
  display: block;
  color: #333;
  text-decoration: none;
  font-weight: 500;
}

.sub-dropdown a:hover {
  background-color: var(--light-blue);
  color: var(--primary-blue);
}

.submenu:hover > .sub-dropdown {
  display: block;
}

.dropdown:hover .dropdown-content {
  display: block;
}

/* Hero section */
.hero {
  height: 100vh;
  background-image: url("images/hero.jpg");
  background-size: cover;
  background-position: center;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  color: #fff;
  text-align: center;
}

.hero::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
  z-index: 1;
}

.hero-content {
  position: relative;
  z-index: 2;
  max-width: 800px;
  padding: 0 1rem;
}

.hero h1 {
  font-size: 3rem;
  margin-bottom: 1rem;
  line-height: 1.2;
}

.hero p {
  font-size: 1.2rem;
  margin-bottom: 2rem;
}

.button-group {
  display: flex;
  gap: 1rem;
  justify-content: center;
  flex-wrap: wrap;
}

.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 4px;
  font-size: 1rem;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s ease;
}

.btn-primary {
  background: var(--gradient);
  color: #fff;
  border: none;
}

.btn-outline {
  border: 2px solid #fff;
  color: #fff;
}

.btn-primary:hover {
  opacity: 0.85;
}

.btn-outline:hover {
  background: #fff;
  color: var(--primary-blue);
}

/* Section styles */
section {
  padding: 5rem 10%;
}

.section-title {
  text-align: center;
  margin-bottom: 2rem;
  font-size: 2rem;
  font-weight: bold;
  color: var(--dark-blue);
}

/* About section */
.about {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 2rem;
  background-color: #f9f9f9;
}

.about-text {
  flex: 1 1 40%;
  min-width: 250px;
}

.about-text p {
  font-size: 1.1rem;
  margin-bottom: 1rem;
}

.gradient-text {
  background-image: var(--gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: bold;
}

.about-image {
  /* Make the image container a bit narrower to reduce its dominance */
  flex: 1 1 35%;
  text-align: center;
}

.about-image img {
  /* Limit the size of the about page image so it doesn't dominate the section */
  max-width: 70%;
  border-radius: 8px;
}

/* Reviews section */
.reviews {
  background-color: #fff;
}

.reviews-container {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
  justify-content: center;
}

.review-card {
  background-color: #f1f9ff;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  max-width: 320px;
}

.stars {
  color: #f7b500;
  margin-bottom: 0.5rem;
}

.review-card p {
  margin-bottom: 0;
}

/* Products section */
.products {
  background-color: #f9f9f9;
}

.product-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
  justify-content: center;
}

.product-item {
  text-align: center;
  width: 200px;
}

.product-item img {
  width: 100%;
  height: 140px;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 0.5rem;
}

.product-item h3 {
  margin: 0.5rem 0;
  font-size: 1.1rem;
}

.product-item a {
  color: var(--primary-blue);
  font-weight: 600;
  text-decoration: none;
}

.product-item a:hover {
  text-decoration: underline;
}

/* Features section (About page) */
.features {
  display: flex;
  flex-wrap: wrap;
  gap: 2rem;
  justify-content: center;
}

.feature {
  flex: 1 1 220px;
  background-color: #f1f9ff;
  border-radius: 8px;
  padding: 1.5rem;
  text-align: center;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.feature .icon {
  font-size: 2rem;
  margin-bottom: 0.5rem;
  color: var(--primary-blue);
}

.feature h3 {
  margin: 0.5rem 0;
  font-size: 1.2rem;
  color: var(--dark-blue);
}

.feature p {
  font-size: 1rem;
  margin: 0;
}

/* Categories list (Products page) */
.categories {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.category-card {
  background-color: #f1f9ff;
  border-radius: 8px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.category-card h3 {
  margin-top: 0;
  margin-bottom: 0.5rem;
  font-size: 1.4rem;
  color: var(--dark-blue);
}

.category-card p {
  margin-bottom: 0.5rem;
  font-size: 1.05rem;
}

.category-card ul {
  margin: 0;
  padding-left: 1.2rem;
}

.category-card li {
  margin-bottom: 0.3rem;
}

.category-card a {
  color: var(--primary-blue);
  text-decoration: none;
  font-weight: 600;
}

.category-card a:hover {
  text-decoration: underline;
}

/* Contact section */
.contact {
  background-color: #fff;
}

.contact-info {
  text-align: center;
  margin-bottom: 2rem;
}

.contact-form {
  max-width: 600px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.contact-form input,
.contact-form textarea {
  padding: 0.75rem 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: 1rem;
}

.contact-form button {
  align-self: center;
  padding: 0.75rem 2rem;
  background: var(--gradient);
  color: #fff;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  cursor: pointer;
  font-weight: 600;
  transition: opacity 0.2s ease;
}

.contact-form button:hover {
  opacity: 0.85;
}

/* Footer */
.footer {
  background-color: var(--dark-blue);
  color: #fff;
  padding: 2rem 10%;
  text-align: center;
  font-size: 0.9rem;
}

.footer a {
  color: var(--primary-blue);
  text-decoration: none;
}

.footer a:hover {
  text-decoration: underline;
}

/* Responsive adjustments: collapse navigation and stacks content on tablets/mobile */
@media (max-width: 1024px) {
  .hero h1 {
    font-size: 2.2rem;
  }
  .hero p {
    font-size: 1rem;
  }
  .about {
    flex-direction: column;
  }
  .about-image,
  .about-text {
    flex: 1 1 100%;
  }
  nav {
    flex-wrap: wrap;
    justify-content: space-between;
    padding: 1rem 1rem;
  }
  .nav-links {
    flex-direction: column;
    width: 100%;
    display: none;
    background-color: rgba(255, 255, 255, 0.95);
    margin-top: 0.5rem;
    padding: 1rem;
  }
  .nav-links.show {
    display: flex;
  }
  .menu-toggle {
    display: block;
    cursor: pointer;
    font-size: 2rem;
    color: var(--primary-blue);
  }
  .dropdown-content {
    position: static;
    width: 100%;
    box-shadow: none;
  }
  .dropdown:hover .dropdown-content {
    display: none;
  }
}
/* === MOBILE NAV PATCH (non-destructive; overrides earlier rules) === */

/* Safety: never allow sideways scroll */
html, body { overflow-x: hidden; }

/* Drawer overlay (injected via JS) */
.nav-overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.5);
  opacity: 0; pointer-events: none;
  transition: opacity .18s ease;
  z-index: 999; /* below the drawer, above page content */
}
.nav-overlay.show{ opacity: 1; pointer-events: auto; }

/* Make links inside dropdowns look like clear “buttons” on white */
nav .dropdown-content a{
  display: block; padding: 12px 14px;
  border-radius: 12px; border: 1px solid #e9edf2;
  background: #fff; font-weight: 600; color: #222;
  margin: 6px 0;
}
nav .dropdown-content a:hover{ background:#f5f7fb; }

/* Desktop: keep your current hover behavior exactly the same */
@media (min-width: 769px){
  nav .dropdown:hover > .dropdown-content{ display:block; }
  nav .submenu:hover > .sub-dropdown{ display:block; }
}

/* Mobile drawer: centered, in-frame, white panel */
@media (max-width: 768px){
  /* Your header stays fixed; we convert the UL into a drawer */
  nav .nav-links{
    position: fixed;
    top: 12px;
    left: 50%;
    transform: translateX(-50%) translateY(8px);
    width: min(92vw, 480px);
    max-height: calc(100dvh - 24px);
    overflow: auto;
    background: #fff;
    color: #101418;
    border: 1px solid #e9edf2;
    border-radius: 16px;
    box-shadow: 0 30px 70px rgba(0,0,0,.25);
    padding: 16px;
    gap: 10px;

    /* hidden by default — your .show class will reveal it */
    opacity: 0;
    pointer-events: none;
    transition: opacity .18s ease, transform .18s ease;
    z-index: 1000; /* above overlay */
  }
  nav .nav-links.show{
    opacity: 1;
    pointer-events: auto;
    transform: translateX(-50%) translateY(0);
  }

  /* Each item looks like a big tap target */
  nav .nav-links > li > a{
    display: block; width: 100%;
    padding: 16px 14px;
    border: 1px solid #e9edf2; border-radius: 14px;
    background: #f8fafc; font-weight: 700; color: #111;
  }

  /* Turn hover dropdowns into collapsibles on mobile */
  nav .dropdown-content{
    position: static; display: none; border: 0; box-shadow: none; padding: 0; margin-top: 8px;
  }
  nav .dropdown[data-open="true"] > .dropdown-content{ display: block; }

  nav .submenu .sub-dropdown{
    display: none; margin: 8px 0 0 10px; padding-left: 10px; border-left: 2px solid #eef2f7;
  }
  nav .submenu[data-open="true"] .sub-dropdown{ display: block; }

  /* When drawer is open, prevent page scroll bounce */
  body.no-scroll{ height: 100dvh; overflow: hidden; }
}

/* Optional: keep nav logo + toggle aligned */
nav{
  display: grid; grid-template-columns: 1fr auto; align-items: center;
}

/* Ensure media never causes overflow */
img, video, canvas, svg { max-width: 100%; height: auto; display: block; }
/* --- Global safety --- */
* { box-sizing: border-box; }
html, body { overflow-x: hidden; }

/* --- Mobile menu overlay + panel --- */
.nav-overlay{
  position: fixed; inset: 0;
  background: rgba(0,0,0,.45);
  z-index: 1000; display: none;
}
.mobile-menu{
  position: fixed;
  top: calc(env(safe-area-inset-top) + 16px);
  left: 50%;
  transform: translateX(-50%);
  width: min(92vw, 420px);
  max-height: calc(100dvh - 32px - env(safe-area-inset-top));
  overflow-y: auto;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 18px;
  padding: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  z-index: 1001; display: none;
}

/* show when open */
.menu-open .nav-overlay,
.menu-open .mobile-menu { display: block; }

/* menu header row */
.mobile-menu .menu-head{
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 10px;
}
.mobile-menu .menu-title{
  font-weight: 800; font-size: 1.1rem; color: #0f172a;
}
.mobile-menu .menu-close{
  appearance: none; border: 0; background: #111;
  color: #fff; width: 28px; height: 28px; border-radius: 999px;
  display: grid; place-items: center; cursor: pointer;
}

/* link list => centered "buttons" */
.mobile-menu ul{
  list-style: none; margin: 0; padding: 8px 0;
  display: grid; gap: 14px;
}
.mobile-menu a{
  display: flex; align-items: center; justify-content: center;
  padding: 16px 18px;
  background: #f6f7fb;
  border: 1px solid #e5e7eb;
  border-radius: 16px;
  text-decoration: none; color: #0f172a; font-weight: 700;
}
.mobile-menu a:active { transform: translateY(1px); }

/* “Shop” sublist */
#shopSub { display: none; padding-top: 6px; }
#shopSub[data-open="true"] { display: grid; }
#shopToggle::after{ content: "▾"; margin-left: .4rem; }
#shopToggle[data-open="true"]::after{ content: "▴"; }

/* keep your desktop nav untouched */
@media (min-width: 769px){
  .nav-overlay, .mobile-menu{ display: none !important; }
}
/* Make Shop open/close on click via a class, not only hover */
nav .dropdown.open > .dropdown-content { display: block; }


/* Keep hover working on desktop too */
@media (hover:hover) {
  nav .dropdown:hover > .dropdown-content { display: block; }
}

/* Ensure the dropdown stays inside the viewport on mobile */
@media (max-width: 1024px) {
  nav .dropdown { position: static; }
  nav .dropdown .dropdown-content {
    position: static;          /* stack inside the flow */
    width: 100%;               /* match the menu width */
    box-shadow: none;          /* match your mobile menu look */
    border: 0;                 /* (optional) match the mobile style */
  }
}
/* Only show nested submenus (420, Vapes) on devices that support hover (desktop) */
@media (hover:hover) {
  nav .submenu:hover > .sub-dropdown { display: block; }
}

/* On touch devices, make 420/Vapes just normal links (no dropdown) */
@media (hover:none) {
  nav .submenu .sub-dropdown { display: none !important; }
  nav .submenu .has-sub::after { content: ""; } /* remove the little ▸ caret on touch */
}
/* === Global nav fixes (append at end) === */

/* Prevent horizontal scroll if a panel misbehaves */
html, body { overflow-x: hidden; }

/* Keep dropdown panel inside frame + consistent white UI */
nav .dropdown { position: relative; }
nav .dropdown .dropdown-content {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 240px;
  max-width: min(92vw, 320px);
  background: #fff;
  border: 1px solid #e8e8e8;
  border-radius: 12px;
  box-shadow: 0 12px 28px rgba(0,0,0,.12);
  padding: 8px 0;
  z-index: 999;
}
nav .dropdown.open > .dropdown-content { display: block; }

nav .dropdown .dropdown-content a {
  display: block;
  padding: 10px 14px;
  color: #111;
  text-decoration: none;
  font-weight: 600;
}
nav .dropdown .dropdown-content a:hover {
  background: #f5f7fb;
}

/* MOBILE: dropdown becomes an inline white list inside the menu, never off-screen */
@media (max-width: 1024px) {
  nav .dropdown .dropdown-content {
    position: static;
    max-width: 100%;
    width: 100%;
    border-radius: 10px;
    border: 1px solid #e8e8e8;
    box-shadow: none;
    margin-top: 6px;
  }
}

/* Kill nested submenus everywhere (so 420/Vapes are NOT dropdowns) */
nav .submenu .sub-dropdown { display: none !important; }
nav .submenu .has-sub::after { content: '' !important; }

/* Optional: slightly tighter mobile menu alignment */
@media (max-width: 1024px) {
  .nav-links.show { align-items: stretch; }
  .nav-links.show > li { width: 100%; }
}
/* ===== NAV COMPAT LAYER (append at very bottom) ===== */

/* Never allow sideways scroll */
html, body { overflow-x: hidden; }

/* Keep panel inside frame and white on desktop */
nav .dropdown,
nav .has-submenu { position: relative; }

nav .dropdown .dropdown-content,
nav .has-submenu .submenu {
  display: none;
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  min-width: 240px;
  max-width: min(92vw, 320px);
  background: #fff;
  border: 1px solid #e8e8e8;
  border-radius: 12px;
  box-shadow: 0 12px 28px rgba(0,0,0,.12);
  padding: 8px;
  z-index: 999;
}

/* Show panel for BOTH class and data-attr states */
nav .dropdown.open > .dropdown-content,
nav .dropdown[data-open="true"] > .dropdown-content,
nav .has-submenu.submenu-open > .submenu,
nav .has-submenu[data-open="true"] > .submenu { display: block; }

/* Links look like clear buttons */
nav .dropdown .dropdown-content a,
nav .has-submenu .submenu a {
  display: block;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid #e9edf2;
  background: #fff;
  font-weight: 700;
  color: #111;
  margin: 6px 0;
}
nav .dropdown .dropdown-content a:hover,
nav .has-submenu .submenu a:hover { background: #f5f7fb; }

/* MOBILE: dropdown becomes inline, never off-screen */
@media (max-width: 1024px) {
  /* Centered drawer UL (works with your existing .show toggle) */
  nav .nav-links{
    position: fixed;
    left: 50%;
    top: 12px;
    transform: translateX(-50%) translateY(8px);
    width: min(92vw, 480px);
    max-height: calc(100dvh - 24px);
    overflow: auto;
    background: #fff;
    border: 1px solid #e9edf2;
    border-radius: 16px;
    box-shadow: 0 30px 70px rgba(0,0,0,.25);
    padding: 16px;
    flex-direction: column;
    gap: 10px;
    opacity: 0;
    pointer-events: none;
    transition: opacity .18s ease, transform .18s ease;
    z-index: 1001;
  }
  nav .nav-links.show{
    opacity: 1;
    pointer-events: auto;
    transform: translateX(-50%) translateY(0);
  }

  /* Big tap targets */
  nav .nav-links > li > a{
    display: block; width: 100%;
    padding: 16px 14px;
    border: 1px solid #e9edf2; border-radius: 14px;
    background: #f8fafc; color: #111; font-weight: 900;
  }

  /* Panels inline in drawer */
  nav .dropdown .dropdown-content,
  nav .has-submenu .submenu{
    position: static;
    width: 100%;
    max-width: 100%;
    border-radius: 10px;
    border: 1px solid #e8e8e8;
    box-shadow: none;
    margin-top: 8px;
  }

  /* Kill nested flyouts everywhere on touch */
  nav .submenu .sub-dropdown { display: none !important; }
  nav .submenu .has-sub::after { content: '' !important; }
}

/* Nice alignment for the header bar */
nav { display: grid; grid-template-columns: 1fr auto; align-items: center; }
.menu-toggle { display: none; }
@media (max-width: 1024px){ .menu-toggle { display:block; font-size: 2rem; color: #3db2ff; } }
/* --- Unify the Shop button on the Contact page --- */
nav .has-submenu > .shop-label {
    display: inline-block;
    padding: 10px 12px;
    font-weight: 600;
    color: #333;
    border-radius: 8px;
    background: transparent;
    border: 0;
    cursor: pointer;
}
nav .has-submenu > .shop-label:hover {
    color: var(--primary-blue);
}

/* --- Keep dropdown open when hovering down --- */
nav li.dropdown,
nav li.has-submenu {
    position: relative;
    padding-bottom: 8px;        /* extend hover area to cover the gap */
}
nav li.dropdown > .dropdown-content,
nav li.has-submenu > .submenu {
    margin-top: -8px;           /* pull dropdown up to overlap the hover area */
}

/* If your CSS uses ::after pseudo-elements, ensure pointer-events don’t interfere */
nav .dropdown > a::after,
nav .has-submenu > .shop-label::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: -8px;
    height: 8px;
    pointer-events: none;
}

/* Always keep dropdown visible when hovering over it */
@media (hover:hover) {
  nav .dropdown:hover > .dropdown-content,
  nav .dropdown.open > .dropdown-content,
  nav .has-submenu:hover > .submenu,
  nav .has-submenu.submenu-open > .submenu {
      display: block;
  }
}
/* --- Normalize "Shop" link so it matches other nav links --- */
nav .dropdown > a.shop-toggle {
  display: inline-block;
  padding: 0;             /* remove any extra padding */
  line-height: 1.4;       /* match text vertical alignment */
  font-weight: 600;       /* same as other links */
  font-size: 1.4rem;      /* same as nav-links font size */
  color: inherit;
}

nav .dropdown > a.shop-toggle:hover {
  color: var(--primary-blue);
  background: none;       /* prevent box effect */
}
/* === Fix Shop alignment so it matches Home/About/Contact === */
nav .has-submenu > .shop-label {
  display: inline-block;        /* same as anchors */
  padding: 0.75rem 1rem;        /* match your nav-links a */
  margin: 0;
  font: inherit;
  font-weight: 600;             /* same boldness as other links */
  line-height: 1.2;             /* align text baseline */
  color: inherit;
  text-decoration: none;
  cursor: pointer;
  vertical-align: middle;       /* keep baseline consistent */
  background: none;             /* strip weird bg */
  border: none;                 /* remove leftover borders */
}
/* === Force Shop label to match normal nav links === */
nav .has-submenu > .shop-label {
  all: unset;                          /* reset any overrides */
  display: inline-block;
  padding: 0.75rem 1rem;               /* match other nav links */
  font: 600 1.4rem/1.2 Arial, Helvetica, sans-serif;
  color: #333;                         /* same color as other links */
  cursor: pointer;
  transition: color 0.2s ease;
}
nav .has-submenu > .shop-label:hover {
  color: var(--primary-blue);          /* same hover as anchors */
}
/* === Perfectly align the top-level nav items (Home/About/Shop/Contact) === */
nav .nav-links > li {
  display: flex;                 /* center children inside each li */
  align-items: center;
}

nav .nav-links > li > a,
nav .nav-links > li > .shop-label {
  display: inline-block;
  margin: 0;
  padding: 0.75rem 1rem;         /* same padding as your anchors */
  line-height: 1;                /* kill baseline drift */
  vertical-align: middle;
  font-weight: 600;              /* match anchors */
  font-size: 1.4rem;             /* match anchors */
  color: #333;                   /* match anchors */
}

/* keep the hover color the same for the Shop label */
nav .nav-links > li > .shop-label:hover { color: var(--primary-blue); }
/* Fine-tune Shop label vertical alignment */
nav .nav-links > li > .shop-label {
  position: relative;
  top: 3px;   /* bump down – adjust to 3px if it still looks high */
}
/* === NAV: make "Shop" (a <span>) look/align exactly like the links === */

/* 1) Normalize the span */
nav .nav-links > li > .shop-label{
  all: unset;                 /* wipe page-scoped pill styles */
  display: inline;            /* same flow as <a> */
  font: inherit;
  font-weight: 600;           /* same weight as your links */
  line-height: 1.2;           /* match the link line-height */
  color: inherit;
  cursor: pointer;
}

/* 2) Ensure every nav item vertically centers its first child */
nav .nav-links { align-items: center; }
nav .nav-links > li{
  display: flex;
  align-items: center;        /* centers <a> and the Shop <span> identically */
}

/* 3) Kill any leftover "pill" styling that might still be injected on Contact */
@media (min-width: 769px){
  nav .has-submenu > .shop-label{
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
    border-radius: 0 !important;
    background: transparent !important;
  }
}

/* 4) Micro-nudge (only if you still see it 1px high on some browsers) */
nav .nav-links > li > .shop-label{ position: relative; top: 1px; }
@media (min-width: 769px){
  /* You can set this to 0px if it's perfect without the nudge on desktop */
  nav .nav-links > li > .shop-label{ top: 0px; }
}
/* ===== NAV HOT-FIX (append at end of style.css) ===== */

/* 1) Make anchors and the Shop <span> identical */
nav .nav-links { align-items: center; }
nav .nav-links > li { display: flex; align-items: center; }

nav .nav-links > li > a,
nav .nav-links > li > .shop-label {
  display: inline-block;
  padding: 0.75rem 1rem;
  line-height: 1.2;
  font-size: 1.4rem;
  font-weight: 600;
  color: #333;
  background: none;
  border: 0;
  margin: 0;
  text-decoration: none;
  cursor: pointer;
  transition: color .2s ease;
}
nav .nav-links > li > a:hover,
nav .nav-links > li > .shop-label:hover { color: var(--primary-blue); }

/* Kill any old “nudges” that were pushing Shop up */
nav .nav-links > li > .shop-label{
  position: static !important;
  top: auto !important;
  transform: none !important;
}

/* 2) Desktop dropdown positioning + anti-gap */
@media (hover:hover){
  nav li.has-submenu,
  nav li.dropdown { position: relative; padding-bottom: 8px; }

  nav li.has-submenu > .submenu,
  nav li.dropdown > .dropdown-content {
    display: none;
    position: absolute;
    top: calc(100% - 8px);    /* overlaps the 8px hover area */
    left: 0;
    min-width: 240px;
    max-width: min(92vw, 320px);
    background: #fff;
    border: 1px solid #e8e8e8;
    border-radius: 12px;
    box-shadow: 0 12px 28px rgba(0,0,0,.12);
    padding: 8px 0;
    z-index: 999;
  }

  /* keep open while moving from button to panel */
  nav li.has-submenu:hover > .submenu,
  nav li.has-submenu.submenu-open > .submenu,
  nav li.dropdown:hover > .dropdown-content,
  nav li.dropdown.open > .dropdown-content { display: block; }

  nav .has-submenu > .submenu a,
  nav .dropdown > .dropdown-content a{
    display:block; padding:12px 14px; margin:6px 0;
    font-weight:600; color:#111;
    border:1px solid #e9edf2; border-radius:12px; background:#fff;
    text-decoration:none;
  }
  nav .has-submenu > .submenu a:hover,
  nav .dropdown > .dropdown-content a:hover{ background:#f5f7fb; }
}

/* 3) Mobile drawer: panels stack inline, nothing shifts */
@media (max-width: 1024px){
  nav .nav-links.show { transform: translateX(-50%) translateY(0); } /* keep your drawer behavior */

  nav .nav-links > li > a,
  nav .nav-links > li > .shop-label{
    width: 100%;
    padding: 16px 14px;
    background: #f8fafc;
    border: 1px solid #e9edf2;
    border-radius: 14px;
    color: #111;
    font-weight: 800;
  }

  nav li.has-submenu > .submenu,
  nav li.dropdown > .dropdown-content{
    position: static !important;
    width: 100% !important;
    max-width: 100% !important;
    border-radius: 10px;
    border: 1px solid #e8e8e8;
    box-shadow: none;
    margin-top: 8px;
    display: none;
  }
  nav li.has-submenu.submenu-open > .submenu,
  nav li.dropdown.open > .dropdown-content{ display: block; }

  /* disable nested flyouts (420/Vapes) on touch */
  nav .submenu .sub-dropdown{ display: none !important; }
  nav .submenu .has-sub::after{ content:'' !important; }
}

/* 4) Contact page pill cleanup (in case inline CSS sneaks in again) */
nav .has-submenu > .shop-label{
  background: transparent !important;
  border: 0 !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  outline: 0 !important;
}
/* =========================================================
   FINAL NAV PATCH — append at END of style.css
   Purpose:
   - Keep header white (unchanged)
   - Center the mobile drawer and keep it inside the frame
   - Make Shop open/close on tap (paired with JS that toggles .open)
   - Prevent any horizontal overflow caused by menus
   - Keep desktop dropdowns white and inside viewport
   ========================================================= */

/* 0) Absolute safety: never allow sideways scroll from menus */
html, body { overflow-x: hidden; }

/* 1) Normalize top bar layout + toggle visibility */
nav { display: grid; grid-template-columns: 1fr auto; align-items: center; }
.menu-toggle { display: none; }
@media (max-width: 1024px){
  .menu-toggle { display: block; font-size: 2rem; color: var(--primary-blue); }
}

/* 2) Desktop dropdown panel — keep it inside the viewport */
nav .dropdown { position: relative; }
@media (hover:hover){
  nav .dropdown > a::after { content: "▾"; font-size: .85em; margin-left: 4px; opacity: .7; }
}

nav .dropdown .dropdown-content{
  display: none;
  position: absolute;
  top: calc(100% + 10px);
  right: 0;            /* align panel to right edge of button so it opens leftward */
  left: auto;
  min-width: 240px;
  max-width: min(92vw, 340px); /* never wider than the frame */
  background: #fff;
  border: 1px solid #e8e8e8;
  border-radius: 12px;
  box-shadow: 0 14px 28px rgba(0,0,0,.12);
  padding: 8px;
  z-index: 999;
}

/* Show on click (JS toggles .open); hover still works on desktop */
nav .dropdown.open > .dropdown-content { display: block; }
@media (hover:hover){
  nav .dropdown:hover > .dropdown-content { display: block; }
}

/* Links inside dropdown look like clear buttons */
nav .dropdown .dropdown-content a{
  display: block;
  padding: 12px 14px;
  margin: 6px 0;
  font-weight: 700;
  color: #111;
  border: 1px solid #e9edf2;
  border-radius: 12px;
  background: #fff;
}
nav .dropdown .dropdown-content a:hover{ background: #f5f7fb; }

/* 3) Submenu behavior
      - Desktop: flyout opens to the LEFT so it never runs off-screen
      - Mobile: no flyouts; show nested lists inline */
nav .submenu { position: relative; }
nav .submenu > .has-sub::after{ content: "▸"; float: right; opacity: .6; }

nav .submenu .sub-dropdown{
  display: none;
  position: absolute;
  top: -8px;
  right: calc(100% + 8px); /* open to the LEFT of the parent */
  left: auto;
  min-width: 220px;
  background: #fff;
  border: 1px solid #e8e8e8;
  border-radius: 12px;
  padding: 8px;
  box-shadow: 0 14px 28px rgba(0,0,0,.12);
}
@media (hover:hover){
  nav .submenu:hover > .sub-dropdown{ display: block; }
}

/* 4) MOBILE drawer — centered, white, in-frame */
@media (max-width: 1024px){
  /* Turn the UL into a centered drawer revealed by .show (your JS already adds .show) */
  nav .nav-links{
    position: fixed;
    left: 50%;
    top: 12px;
    transform: translateX(-50%) translateY(8px);
    width: min(92vw, 480px);
    max-height: calc(100dvh - 24px);
    overflow: auto;
    background: #fff;
    color: #101418;
    border: 1px solid #e9edf2;
    border-radius: 16px;
    box-shadow: 0 30px 70px rgba(0,0,0,.25);
    padding: 16px;
    flex-direction: column;
    gap: 10px;

    opacity: 0;
    pointer-events: none;
    transition: opacity .18s ease, transform .18s ease;
    z-index: 1001;
  }
  nav .nav-links.show{
    opacity: 1;
    pointer-events: auto;
    transform: translateX(-50%) translateY(0);
  }

  /* Big comfortable buttons in the drawer */
  nav .nav-links > li > a,
  nav .nav-links > li > .shop-label{
    display: block; width: 100%;
    padding: 16px 14px;
    background: #f8fafc;
    border: 1px solid #e9edf2;
    border-radius: 14px;
    color: #111;
    font-weight: 800;
  }

  /* Dropdown panel stacks inline inside the drawer (no off-screen) */
  nav .dropdown { position: static; }
  nav .dropdown .dropdown-content{
    position: static;
    display: none;     /* shown when parent has .open */
    width: 100%;
    max-width: 100%;
    border-radius: 10px;
    border: 1px solid #e8e8e8;
    box-shadow: none;
    margin-top: 8px;
    padding: 6px;
  }
  nav .dropdown.open > .dropdown-content{ display: block; }

  /* Disable flyout submenus on mobile; show nested lists inline if needed */
  nav .submenu .sub-dropdown{ position: static; display: none !important; }
  nav .submenu .has-sub::after{ content: "" !important; }
}

/* 5) Make the Shop <span> look exactly like the other links */
nav .nav-links { align-items: center; }
nav .nav-links > li { display: flex; align-items: center; }
nav .nav-links > li > .shop-label{
  all: unset;
  display: inline-block;
  padding: 0.75rem 1rem;
  line-height: 1.2;
  font-size: 1.4rem;
  font-weight: 600;
  color: #333;
  cursor: pointer;
  transition: color .2s ease;
}
nav .nav-links > li > .shop-label:hover{ color: var(--primary-blue); }

/* 6) Z-index hygiene so panels overlay content but not the fixed bar */
nav { z-index: 1000; }
nav .nav-links.show { z-index: 1001; }
